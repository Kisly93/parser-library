# Parsing an online library

Данный скрипт предназначен для загрузки книг и обложек с сайта [Tululu.org](https://tululu.org/). Он позволяет автоматически скачивать книги в формате TXT и изображения обложек книг.
Также скрипт парсит Автора книги, ее жанр, а также коменнтарии оставленные к этой книге  

## Как установить

Python3 должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:

``` python
pip install -r requirements.txt
```

## Использование

Запустите скрипт в командной строке с помощью
```
python parser.py start_id end_id
```
где start_id - начальный идентификатор книги, end_id - конечный идентификатор книги. Скрипт будет загружать книги в диапазоне от start_id до end_id.

Например, чтобы загрузить книги с идентификаторами от 1 до 10, выполните следующую команду:

```
python parser.py 1 10
```
После запуска скрипта будут загружены книги и обложки для каждого идентификатора в указанном диапазоне. Книги будут сохранены в папке "books/", а обложки - в папке "images/".

В результате загрузки каждой книги скрипт выведет информацию о загруженной книге, включая название, автора, жанры и комментарии.

Также можно скачивать все книги со страниц:

Запустите скрипт в командной строке с помощью
```
python parse_tululu_category.py --start_page  --end_page  --dest_folder --skip_imgs --skip_txt

```
где --start_page - Начальная страница (по умолчанию: 1), --end_page - Конечная страница(по умолчанию: 701), --dest_folder - Путь к каталогу с результатами парсинга, 
--skip_imgs - Не скачивать картинки, --skip_txt - Не скачивать книги

Например, чтобы скачать книги со страниц 2 по 5 без картинок и укажем путь к каталогу с результатами парсинга как description, выполните следующую команду:

```
python parse_tululu_category.py --start_page 2 --end_page 5 --dest_folder description --skip_imgs

```
Так же присутствует скрипт: 
``` 
render_website.py
```
С помощью данного скрипта создаем сайт онлайн библиотеку. Сайт отображает коллекцию книг, хранящихся в формате JSON, и разбивает их на страницы для удобства пользователей. Также включена функция автоматической перезагрузки сервера для удобной разработки.

## Как добавить новые книги
Чтобы добавить новые книги в библиотеку, отредактируйте файл media/all_books.json, добавив информацию о новых книгах в формате JSON. После этого, запустите скрипт render_website.py снова, чтобы обновить страницы с новыми данными.

Также можно воспользоваться скриптом:
```
python parse_tululu_category.py
```
 , для скачивания книг, а после использовать скрипт render_website.py снова, чтобы обновить страницы с новыми данными.

### Файловая структура
```
- media/
  - all_books.json
  - images/
    - (изображения книг)
  - books/
    - (название книг)
- pages/
  - index1.html
  - index2.html
  - ...
- template.html
- render_website.py
...

```
## Локальный сайт
Для работы с библиотекой в режиме офлайн, в папке pages запустите файл index1.html

## Цели проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/). 
